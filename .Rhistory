library(circlize)
library(tidyverse)
data = read_csv('data/Bill_Information_and_Position_with_Income_of_Lobbyist_in_Colorado.csv')
df = data %>%
mutate(lobbyist = paste(lobbyistLastName, lobbyistFirstName, primaryLobbyistID, sep='-'),
client = paste(clientLastName, clientFirstName, clientAddress1, sep='-'),
income = as.numeric(gsub('\\$','',incomeAmount))) %>%
select(lobbyist, client, income)
chordDiagram(df)
df = data %>%
mutate(lobbyist = paste(lobbyistLastName, lobbyistFirstName, primaryLobbyistID, sep='-'),
client = paste(clientLastName, clientFirstName, clientAddress1, sep='-'),
income = as.numeric(gsub('\\$','',incomeAmount))) %>%
select(lobbyist, client, income) %>%
top_n(20)
df
chordDiagram(df)
df = data %>%
mutate(lobbyist = paste(lobbyistLastName, lobbyistFirstName, primaryLobbyistID, sep='-'),
client = paste(clientLastName, clientFirstName, clientAddress1, sep='-'),
income = as.numeric(gsub('\\$','',incomeAmount))) %>%
select(lobbyist, client, income) %>%
top_n(10)
chordDiagram(df)
df = data %>%
mutate(lobbyist = paste(lobbyistLastName, lobbyistFirstName, primaryLobbyistID, sep='-'),
client = paste(clientLastName, clientFirstName, sep='-'),
income = as.numeric(gsub('\\$','',incomeAmount))) %>%
select(lobbyist, client, income) %>%
top_n(10)
chordDiagram(df)
df = data %>%
mutate(lobbyist = paste(lobbyistLastName, lobbyistFirstName, sep='-'),
client = paste(clientLastName, clientFirstName, sep='-'),
income = as.numeric(gsub('\\$','',incomeAmount))) %>%
select(lobbyist, client, income) %>%
top_n(10)
chordDiagram(df)
head(df)
top_n(10)
df = data %>%
mutate(lobbyist = paste(lobbyistLastName, lobbyistFirstName, sep='-'),
client = paste(clientLastName, clientFirstName, sep='-'),
income = as.numeric(gsub('\\$','',incomeAmount))) %>%
select(lobbyist, client, income) %>%
filter(client != 'NA-NA') %>%
top_n(10)
chordDiagram(df)
head(data)
df = data %>%
mutate(lobbyist = paste(lobbyistLastName, lobbyistFirstName, sep='-'),
client = paste(clientLastName, clientFirstName, sep='-'),
income = as.numeric(gsub('\\$','',incomeAmount))) %>%
select(client, clientTypeOfBusiness, income) %>%
filter(client != 'NA-NA') %>%
top_n(10)
chordDiagram(df)
head(df)
df = data %>%
mutate(lobbyist = paste(lobbyistLastName, lobbyistFirstName, sep='-'),
client = paste(clientLastName, clientFirstName, sep='-'),
income = as.numeric(gsub('\\$','',incomeAmount))) %>%
select(client, clientTypeOfBusiness, income) %>%
drop_na() %>%
filter(client != 'NA-NA') %>%
top_n(10)
chordDiagram(df)
head(df)
head(data)
df = data %>%
mutate(lobbyist = paste(lobbyistLastName, lobbyistFirstName, sep='-'),
client = paste(clientLastName, clientFirstName, sep='-'),
income = as.numeric(gsub('\\$','',incomeAmount))) %>%
select(client, clientBusinessDescription, income) %>%
filter(client != 'NA-NA') %>%
top_n(10)
chordDiagram(df)
head(df)
df = data %>%
mutate(lobbyist = paste(lobbyistLastName, lobbyistFirstName, sep='-'),
client = paste(clientLastName, clientFirstName, sep='-'),
income = as.numeric(gsub('\\$','',incomeAmount))) %>%
select(client, clientBusinessDescription, income) %>%
filter(client != 'NA-NA') %>%
drop_na() %>%
top_n(10)
chordDiagram(df)
df = data %>%
mutate(lobbyist = paste(lobbyistLastName, lobbyistFirstName, sep='-'),
client = paste(clientLastName, clientFirstName, sep='-'),
income = as.numeric(gsub('\\$','',incomeAmount))) %>%
select(lobbyist, clientBusinessDescription, income) %>%
drop_na() %>%
top_n(10)
chordDiagram(df)
df = data %>%
mutate(lobbyist = paste(lobbyistLastName, lobbyistFirstName, sep='-'),
client = paste(clientLastName, clientFirstName, sep='-'),
income = as.numeric(gsub('\\$','',incomeAmount))) %>%
select(lobbyist, client, income) %>%
filter(client != 'NA-NA') %>%
top_n(6)
chordDiagram(df)
df = data %>%
mutate(lobbyist = paste(lobbyistLastName, lobbyistFirstName, sep='-'),
#client = paste(clientLastName, clientFirstName, sep='-'),
client = clientName,
income = as.numeric(gsub('\\$','',incomeAmount))) %>%
select(lobbyist, client, income) %>%
filter(client != 'NA-NA') %>%
top_n(6)
chordDiagram(df)
